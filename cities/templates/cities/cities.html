{% extends 'main/base.html' %}

{% block title %} Города {% endblock %}

{% block content %}
    <h3 align="center">Список городов</h3>
    {# Отображение списка городов #}
    <div class="row">
        <div class="col-md-8 mx-auto my-3">
            <table class="table table-striped">
                {% for object in page_obj %}
                    <tr>
                        <td><a href="{% url 'cities:detail' pk=object.id %}" style="text-decoration:none">{{object.name}}</a></td>
                        {% if user.is_authenticated %}
                            <td><a href="{% url 'cities:update' pk=object.id %}">
                                <button type="submit" class="btn btn-outline-primary">Редактировать</button></a></td>
                            <td><a href="{% url 'cities:delete' pk=object.id %}">
                                <button type="submit" class="btn btn-outline-danger">Удалить</button></a></td>
                        {% else %}
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    {# Пагинация #}
    {% include 'main/pagination.html' %}

    {# Добавление города #}
<!--    <div class="row">-->
<!--        <div class="col-md-4">-->
<!--            <form action="{% url 'cities:create' %}" method="post">-->
<!--            {% csrf_token %}-->
<!--            {{ form.as_p }}-->
<!--            <input type="submit" value="Добавить город">-->
<!--        </form>-->
<!--        </div>-->
<!--    </div>-->
{% endblock %}
